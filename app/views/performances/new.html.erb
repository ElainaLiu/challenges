<div class="challenges-performances-new">
  <div class="mdc-typography--display2">Create Performance</div>
  <% if flash[:message] %>
    <div class="mdc-typography--headline"><%= flash[:message] %></div>
  <% end %>
  <% if flash[:errors] %>
    <div class="mdc-typography--headline"><%= flash[:errors] %></div>
  <% end %>
  <%= form_for(:performance, builder: MaterialDesignFormBuilder, url: "/performances", html: { class: "challenges-performance-form" }) do |form| %>
    <div class="mdc-typography--title">Performance Name</div>
    <input class="challenges-performance-form-input" placeholder="Name" name="performance[name]" />
    <div class="mdc-typography--title">Date of performance</div>
    <input class="challenges-performance-form-input" name="performance[date]" id="challenges--js__performance_form_date" />
    <div class="mdc-typography--title">Challenge Window Open</div>
    <input class="challenges-performance-form-input" name="performance[window_open]" id="challenges--js__performance_form_window_open" />
    <div class="mdc-typography--title">Challenge Window Close</div>
    <input class="challenges-performance-form-input" name="performance[window_close]" id="challenges--js__performance_form_window_close" />
    <input type="hidden" name="timezone" id="challenges--js__performance_form_timezone" />
    <%= form.submit "Create" %>
  <% end %>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('challenges--js__performance_form_timezone').value = jstz.determine().name();
    jQuery('#challenges--js__performance_form_date').datetimepicker();
    jQuery('#challenges--js__performance_form_window_open').datetimepicker();
    jQuery('#challenges--js__performance_form_window_close').datetimepicker();
  });
</script>
